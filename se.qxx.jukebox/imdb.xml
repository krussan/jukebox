<?xml version="1.0" encoding="UTF-8"?>
<imdb xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="imdb.xsd">
    <settings
        sleepSecondsMin="20"
        sleepSecondsMax="30"
        debug="false"
    />
    <title
        preferredLanguage="default"
        useOriginalIfExists="true">
        <titleResultPattern
            groupBlock="1"
            groupRecordTitle="1"
            groupRecordCountry="2">
            <blockPattern><![CDATA[<a\s*name="akas">.*?</a>.*?<table[^>]*>(.*?)</table>]]></blockPattern>
            <recordPattern><![CDATA[<tr>\s*<td>(.*?)</td>\s*<td>(.*?)</td>]]></recordPattern>
        </titleResultPattern>
        
    </title>
    
    <searchUrl><![CDATA[http://www.imdb.com/find?s=tt&q=%%TITLE%%]]></searchUrl>
    <searchPatterns>
     <searchResultPattern
         name="November2012_TV"
         enabled="true"
         priority="1"
         groupBlock="1"
         groupRecordUrl="1"
         groupRecordYear="2"
         tvPattern="true">         
 		<blockPattern>
	    	<![CDATA[<table class="findList">(.*?)</table>]]>
		</blockPattern>
 		<recordPattern>
 		    <![CDATA[<a\s*href="([^"]*?)"[^>]*>[^<]+?</a>\s*\((\d{4})[^\)]*?\)\s*\(TV\sSeries\)]]>
		</recordPattern>
     </searchResultPattern>
             
     <searchResultPattern
         name="November2012"
         enabled="true"
         priority="1"
         groupBlock="1"
         groupRecordUrl="1"
         groupRecordYear="2"
         tvPattern="false">         
 		<blockPattern>
	    	<![CDATA[<table class="findList">(.*?)</table>]]>
		</blockPattern>
 		<recordPattern>
 		    <![CDATA[<td\s*class="result_text">\s*<a\s*href="([^"]*?)"[^>]*>[^<]+?</a>.*?(\d{4}).*?</td>]]>
		</recordPattern>
     </searchResultPattern>
        
     <searchResultPattern
         name="PopularTitles"
         enabled="false"
         priority="1"
         groupBlock="3"
         groupRecordUrl="1"
         groupRecordYear="2"
         tvPattern="false">         
 		<blockPattern>
	    	<![CDATA[<p>(.*?)Popular\s*Titles(.*?)<table>(.*?)<\/table>]]>
		</blockPattern>
 		<recordPattern>
 		    <![CDATA[<a\s*href="([^"]*?)"[^>]*>[^<]+?</a>\s*\((\d{4})[^\)]*?\)]]>
		</recordPattern>
     </searchResultPattern>
     <searchResultPattern
         name="ExactMatches"
         enabled="false"
         priority="2"
         groupBlock="3"
         groupRecordUrl="1"
         groupRecordYear="2"
         tvPattern="false">
 		<blockPattern>
		    <![CDATA[<p>(.*?)Titles\s*\(Exact\s*Matches\)(.*?)<table>(.*?)<\/table>]]>
		</blockPattern>
 		<recordPattern>
 		    <![CDATA[<a\s*href="([^"]*?)"[^>]*>[^<]+?</a>\s*\((\d{4})[^\)]*?\)]]>
		</recordPattern>
     </searchResultPattern>
	 <searchResultPattern
         name="ApproxMatches"
         enabled="false"
         priority="3"
         groupBlock="3"
         groupRecordUrl="1"
         groupRecordYear="2"
         tvPattern="false">         
 		<blockPattern>
		    <![CDATA[<p>(.*?)Titles\s*\(Approx\s*Matches\)(.*?)<table>(.*?)<\/table>]]>
		</blockPattern>
 		<recordPattern>
 		    <![CDATA[<a\s*href="([^"]*?)"[^>]*>[^<]+?</a>\s*\((\d{4})[^\)]*?\)]]>
		</recordPattern>
     </searchResultPattern>	      	      
	 <searchResultPattern
         name="PartialMatches"
         enabled="false"
         priority="4"
         groupBlock="3"
         groupRecordUrl="1"
         groupRecordYear="2"
         tvPattern="false">         
 		<blockPattern>
		    <![CDATA[<p>(.*?)Titles\s*\(Partial\s*Matches\)(.*?)<table>(.*?)<\/table>	]]>
		</blockPattern>
 		<recordPattern>
 		    <![CDATA[<a\s*href="([^"]*?)"[^>]*>[^<]+?</a>\s*\((\d{4})[^\)]*?\)]]>
		</recordPattern>
     </searchResultPattern>	      	      
    </searchPatterns>
    <infoPatterns>
        <infoPattern type="title" group="1">
            <regex><![CDATA[<h1.*?itemprop="name".*?>(.*?)<]]></regex>
        </infoPattern>
        <infoPattern type="poster" group="1">
            <regex><![CDATA[<img.*?alt="[^"]*Poster".*?src="([^"]*)"]]></regex>
		</infoPattern>            
        <infoPattern type="story" group="1">
            <regex><![CDATA[<p\s*itemprop="description">(.*?)</p>]]></regex>
		</infoPattern>            
        <infoPattern type="year" group="1">
            <regex><![CDATA[<a.*?href="/year/(\d{4})/[^"]*?"]]></regex>
		</infoPattern>            
        <infoPattern type="rating" group="1">
            <regex><![CDATA[<span\s*itemprop="ratingValue"\s*>((\d\.\d)|(\d\d)|(\d\d\.\d)|(\d\d\.\d\d))]]></regex>
		</infoPattern>            
        <infoPattern type="genres" group="1">
            <regex><![CDATA[<span\s*class=\"itemprop\"\s*itemprop=\"genre\">(.*?)</span>]]></regex>
		</infoPattern>            
        <infoPattern type="duration" group="1">
            <regex><![CDATA[<time.*?itemprop="duration".*?>.*?(\d{1,3})\s*min.*?</time>]]></regex>
		</infoPattern>            
        <infoPattern type="director" group="1">
            <regex><![CDATA[<div.*?itemprop="director".*?>.*?<span.*?itemprop="name".*?>(.*?)<]]></regex>
		</infoPattern>
		<infoPattern type="seasons" group="1">
		    <regex><![CDATA[(\/title/tt\d{1,10}/episodes\?season=\d{1,2})]]></regex>
		</infoPattern>
		<infoPattern type="firstAirDate" group="1">
		    <regex><![CDATA[\((\d{1,2}\s*?[A-Z]{3}\.?\s*?\d{4})\)]]></regex>
		</infoPattern>            
    </infoPatterns>
    <episodePatterns>
        <episodePattern episodeGroup="1" airDateGroup="2" urlGroup="3" titleGroup="4">
            <regex><![CDATA[<meta\s*itemprop="episodeNumber"\s*?content="(\d{1,2})"/>.*?<div\s*class="airdate">\s*([^<]*?)\s*</div>.*?<a.*?href="(.*?)"[^>]*?>([^<]*?)</a>]]></regex>
        </episodePattern>
    </episodePatterns>
    
    <datePatterns>
        <pattern><![CDATA[dd MMM yyyy]]></pattern>
        <pattern><![CDATA[dd MMM. yyyy]]></pattern>
        <pattern><![CDATA[dd MMMM yyyy]]></pattern>
        <pattern><![CDATA[MMM. dd, yyyy]]></pattern>
        <pattern><![CDATA[yyyy-MM-dd]]></pattern>
    </datePatterns>
</imdb>
