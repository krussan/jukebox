plugins {
   id 'java'
   id 'idea'
   id 'com.github.jacobono.jaxb'
   id 'com.github.ksoichiro.build.info'
}

group = 'se.qxx.jukebox'
version = '1.0-SNAPSHOT'

sourceCompatibility = 11
targetCompatibility = 11

sourceSets {
   main {
      java {
         srcDirs = ['src/main/java', 'build/generated/sources']
      }
      resources {
         srcDirs = ['src/main/resources', 'src/main/native']
      }
   }
}

jar {
}

jaxb {
   xsdDir 'se.qxx.jukebox/src/main/xsds'

   xjc {
      destinationDir 'build/generated/sources'
      generatePackage 'se.qxx.jukebox.settings'
   }
}

dependencies {
   implementation project(':se.qxx.jukebox.domain')
   implementation 'com.google.protobuf:protobuf-java:3.9.0'
   implementation 'org.apache.commons:commons-lang3:3.9'
   implementation 'se.qxx.protodb:protodb-java:2.5.4'
   implementation 'commons-io:commons-io:2.5'
   implementation 'uk.co.caprica:vlcj:3.10.1'
   implementation 'org.imgscalr:imgscalr-lib:4.2'
   implementation 'org.xerial:sqlite-jdbc:3.8.11.2'
   implementation 'mysql:mysql-connector-java:5.1.45'
   implementation 'org.nanohttpd:nanohttpd-webserver:2.3.1'
   implementation 'fr.noop:subtitle:0.9.6'
   implementation 'org.freemarker:freemarker:2.3.23'
   implementation 'org.jsoup:jsoup:1.11.2'
   implementation 'pl.project13.maven:git-commit-id-plugin:2.2.2'
   implementation 'com.matthewn4444:embl-java:1.0.0'
   implementation 'net.bramp.ffmpeg:ffmpeg:0.6.2'
   implementation 'net.java.dev.jna:jna:4.2.2'
   implementation 'com.google.inject:guice:4.1.0'
   implementation 'com.google.inject.extensions:guice-assistedinject:4.1.0'
   implementation 'com.google.guava:guava:28.1-jre'
   implementation 'org.apache.commons:commons-text:1.1'

   // runtime

   implementation 'com.sun.activation:jakarta.activation:1.2.1'

   // grpc
   implementation "io.grpc:grpc-netty-shaded:${grpcVersion}"
   implementation "io.grpc:grpc-protobuf:${grpcVersion}"
   implementation "io.grpc:grpc-stub:${grpcVersion}"

   // jaxb
   jaxb 'com.sun.xml.bind:jaxb-xjc:2.2.7-b41'
   jaxb 'com.sun.xml.bind:jaxb-impl:2.2.7-b41'
   jaxb 'javax.xml.bind:jaxb-api:2.2.7'
   jaxb  'org.glassfish.jaxb:jaxb-runtime:2.3.2'
   jaxb 'javax.activation:javax.activation-api:1.2.0'

   // test
   testImplementation 'junit:junit:4.12'
   testImplementation 'org.mockito:mockito-core:2.20.0'
}

